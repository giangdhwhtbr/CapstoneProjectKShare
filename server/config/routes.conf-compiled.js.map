{"version":3,"sources":["routes.conf.js"],"names":[],"mappings":"AAAA;;;;;;AAEA,IAAM,SAAS,QAAQ,QAAR,CAAf;AACA,IAAM,aAAa,QAAQ,aAAR,CAAnB;AACA,IAAM,gBAAgB,QAAQ,kCAAR,CAAtB;AACA,IAAM,SAAS,QAAQ,QAAR,CAAf;AACA,IAAM,UAAU,QAAQ,SAAR,CAAhB;AACA,IAAM,WAAW,QAAQ,UAAR,CAAjB;AACA,IAAM,iBAAiB,QAAQ,iBAAR,CAAvB;AACA,IAAI,QAAW,QAAQ,eAAR,CAAf;;AAEA,OAAO,OAAP;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,6BACgB,WADhB,EAC6B;AACrB,gBAAI,QAAQ,QAAQ,GAAR,EAAZ;AACA,gBAAI,eAAgB,QAAQ,GAAR,CAAY,QAAZ,KAAyB,YAA1B,GAA0C,eAA1C,GAA4D,cAA/E;AACA,wBAAY,GAAZ,CAAgB,OAAhB;AACA,wBAAY,GAAZ,CAAgB,QAAQ,MAAR,CAAe,KAAf,CAAhB;AACA,wBAAY,GAAZ,CAAgB,QAAQ,MAAR,CAAe,QAAQ,YAAvB,CAAhB;AACA,wBAAY,GAAZ,CAAgB,WAAW,IAAX,EAAhB;;AAEA,wBAAY,GAAZ,CAAgB,WAAW,UAAX,CAAsB,EAAE,UAAU,KAAZ,EAAtB,CAAhB;AACA,wBAAY,GAAZ,CAAgB,OAAO,KAAP,CAAhB;AACA,wBAAY,GAAZ,CAAgB,cAAc,WAAd,CAA0B,EAAC,KAAK,GAAN,EAA1B,CAAhB;AACA,wBAAY,GAAZ,CAAgB,QAAhB;AACA,wBAAY,GAAZ,CAAgB,eAAe,EAAE,QAAQ,QAAV,EAAf,CAAhB;AACA,oBAAQ,6BAAR,EAAuC,QAAvC;;AAEA,wBAAY,GAAZ,CAAgB,SAAS,UAAT,EAAhB;AACA,wBAAY,GAAZ,CAAgB,SAAS,OAAT,EAAhB;AACH;AAlBL;;AAAA;AAAA","file":"routes.conf-compiled.js","sourcesContent":["\"use strict\";\n\nconst morgan = require('morgan');\nconst bodyParser = require('body-parser');\nconst contentLength = require('express-content-length-validator');\nconst helmet = require('helmet');\nconst express = require('express');\nconst passport = require('passport');\nconst expressSession = require('express-session');\nvar flash    = require('connect-flash');\n\nmodule.exports = class RouteConfig {\n    static init(application) {\n        let _root = process.cwd();\n        let _clientFiles = (process.env.NODE_ENV === 'production') ? '/client/dist/' : '/client/dev/';\n        application.use(flash());\n        application.use(express.static(_root));\n        application.use(express.static(_root + _clientFiles));\n        application.use(bodyParser.json());\n        // parse application/x-www-form-urlencoded\n        application.use(bodyParser.urlencoded({ extended: false }))\n        application.use(morgan('dev'));\n        application.use(contentLength.validateMax({max: 999}));\n        application.use(helmet());\n        application.use(expressSession({ secret: 'kshare' }));\n        require('../api/user/config/passport')(passport);\n        // Add passport's middleware\n        application.use(passport.initialize());\n        application.use(passport.session());\n    }\n}\n"]}