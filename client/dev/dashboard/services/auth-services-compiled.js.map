{"version":3,"sources":["auth-services.js"],"names":[],"mappings":"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","file":"auth-services-compiled.js","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n/**\n * Created by GiangDH on 5/19/16.\n */\nvar core_1 = require('@angular/core');\nvar http_1 = require('@angular/http');\nvar Observable_1 = require('rxjs/Observable');\nvar AuthService = (function () {\n    function AuthService(_http) {\n        this._http = _http;\n        this._loginUrl = '/api/login';\n        this.loggedIn = false;\n    }\n    AuthService.prototype.login = function (user) {\n        var _this = this;\n        var headers = new http_1.Headers({ 'Content-Type': 'application/json' });\n        var options = new http_1.RequestOptions({ headers: headers });\n        var _user = JSON.stringify({\n            username: user.username,\n            password: user.password,\n            role: 'admin'\n        });\n        return this._http.post(this._loginUrl, _user, options)\n            .map(function (res) { return res.json(); })\n            .map(function (res) {\n            if (res.success) {\n                localStorage.setItem('auth_token', res.auth_token);\n                _this.loggedIn = true;\n            }\n            return res.success;\n        });\n    };\n    AuthService.prototype.logout = function () {\n        localStorage.removeItem('auth_token');\n        this.loggedIn = false;\n    };\n    AuthService.prototype.isLoggedIn = function () {\n        return localStorage.getItem('auth_token');\n    };\n    AuthService.prototype.handleError = function (error) {\n        return Observable_1.Observable.throw(error.json());\n    };\n    AuthService = __decorate([\n        core_1.Injectable(), \n        __metadata('design:paramtypes', [http_1.Http])\n    ], AuthService);\n    return AuthService;\n})();\nexports.AuthService = AuthService;\n//# sourceMappingURL=auth-services.js.map"]}
